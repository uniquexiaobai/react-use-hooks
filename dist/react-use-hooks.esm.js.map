{"version":3,"file":"react-use-hooks.esm.js","sources":["../src/use-boolean.tsx","../src/use-copy-clipboard.tsx","../src/use-debounce.tsx","../src/use-throttle.tsx","../src/utils.ts","../src/use-in-viewport.tsx","../src/use-mounted.tsx"],"sourcesContent":["import { useState } from 'react';\n\nconst useBoolean = (\n  initialValue: boolean\n): [boolean, (x?: boolean) => void] => {\n  const [value, setValue] = useState<boolean>(initialValue);\n\n  const toggle = (forceValue?: boolean) => {\n    if (typeof forceValue === 'boolean') {\n      setValue(forceValue);\n    } else {\n      setValue(!value);\n    }\n  };\n\n  return [value, toggle];\n};\n\nexport default useBoolean;\n","import { useState } from 'react';\n\nconst copyPolyfill = (text: string) => {\n  const textArea = document.createElement('textarea');\n\n  textArea.style.position = 'absolute';\n  textArea.style.top = '-9999px';\n  textArea.style.left = '-9999px';\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    return document.execCommand('copy');\n  } catch (err) {\n    console.log(err);\n    return false;\n  } finally {\n    document.body.removeChild(textArea);\n  }\n};\n\nconst copy = (text: string) => {\n  document.addEventListener('copy', function onCopy(e: any) {\n    e.clipboardData.setData('text/plain', text);\n    e.preventDefault();\n    document.removeEventListener('copy', onCopy);\n  });\n\n  let isCopied;\n\n  try {\n    isCopied = document.execCommand('copy');\n  } catch (err) {\n    isCopied = false;\n    console.log(err);\n  }\n\n  if (!isCopied) {\n    isCopied = copyPolyfill(text);\n  }\n\n  return isCopied;\n};\n\n// TODO: Async Clipboard API\n// https://developers.google.com/web/updates/2018/03/clipboardapi\nconst useCopyClipboard = (): [boolean, (x: string) => void] => {\n  const [isCopied, setCopied] = useState<boolean>(false);\n\n  return [\n    isCopied,\n    text => {\n      const didCopy = copy(text);\n      setCopied(didCopy);\n    },\n  ];\n};\n\nexport default useCopyClipboard;\n","import { useRef } from 'react';\n\ntype Fn = (...args: any) => any;\n\nfunction useDebounce<T extends Fn>(func: T, delay: number): T {\n  const timerRef = useRef<number | null>(null);\n\n  const debounced = (...args: any) => {\n    if (timerRef.current) {\n      window.clearTimeout(timerRef.current);\n    }\n\n    timerRef.current = window.setTimeout(() => {\n      func(...args);\n    }, delay);\n  };\n\n  return debounced as T;\n}\n\nexport default useDebounce;\n","import { useRef } from 'react';\n\ntype Fn = (...args: any) => any;\n\nfunction useThrottle<T extends Fn>(func: T, delay: number): T {\n  const lastTimeRef = useRef<number>(Date.now());\n  const timerRef = useRef<number | null>(null);\n\n  const throttled = (...args: any) => {\n    if (Date.now() - lastTimeRef.current < delay) {\n      if (timerRef.current) {\n        window.clearTimeout(timerRef.current);\n      }\n\n      timerRef.current = window.setTimeout(() => {\n        func(...args);\n        lastTimeRef.current = Date.now();\n      }, delay);\n    } else {\n      func(...args);\n      lastTimeRef.current = Date.now();\n    }\n  };\n\n  return throttled as T;\n}\n\nexport default useThrottle;\n","export const debounce = (func: () => any, wait: number) => {\n  let timer: number;\n\n  return (...args: []) => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = window.setTimeout(() => {\n      func(...args);\n    }, wait);\n  };\n};\n\nexport const throttle = (func: () => any, wait: number) => {\n  let last: number, timer: number;\n\n  return (...args: []) => {\n    const now = Date.now();\n\n    if (last && now - last < wait) {\n      clearTimeout(timer);\n\n      timer = window.setTimeout(() => {\n        last = now;\n        func(...args);\n      }, wait);\n    } else {\n      last = now;\n      func(...args);\n    }\n  };\n};\n","import { useState, useEffect, useRef } from 'react';\nimport { throttle } from './utils';\n\ninterface Options {\n  root?: HTMLElement;\n  rootMargin?: string;\n  threshold?: number | number[];\n}\n\nconst inViewportPolyfill = (\n  element: HTMLElement,\n  callback: (x: any) => void,\n  options: Options\n) => {\n  const { root = document.documentElement } = options;\n  const viewWidth = root.clientWidth;\n  const viewHeight = root.clientHeight;\n\n  const update = throttle(() => {\n    const {\n      width,\n      height,\n      top,\n      bottom,\n      left,\n      right,\n    } = element.getBoundingClientRect();\n\n    callback(\n      width &&\n        height &&\n        top < viewHeight &&\n        bottom > 0 &&\n        left < viewWidth &&\n        right > 0\n    );\n  }, 250);\n\n  document.addEventListener('scroll', update);\n  return () => document.removeEventListener('scroll', update);\n};\n\nconst useInViewport = (options: Options = {}) => {\n  const [inViewport, setInViewport] = useState<boolean>(false);\n  const ref = useRef<HTMLElement>();\n  const { root, rootMargin = '0px', threshold = [0] } = options;\n\n  useEffect(() => {\n    let unobserve = () => {};\n\n    if (window.IntersectionObserver) {\n      const observer = new window.IntersectionObserver(\n        ([entry]) => {\n          setInViewport(entry.isIntersecting);\n        },\n        { root, rootMargin, threshold }\n      );\n\n      if (ref.current) {\n        observer.observe(ref.current);\n        unobserve = () => observer.unobserve(ref.current!);\n      }\n    } else {\n      if (ref.current) {\n        unobserve = inViewportPolyfill(ref.current, setInViewport, options);\n      }\n    }\n\n    return unobserve;\n  }, []);\n\n  return [inViewport, ref];\n};\n\nexport default useInViewport;\n","import { useState, useEffect } from 'react';\n\nfunction useMounted(): boolean {\n  const [mounted, setMounted] = useState<boolean>(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  return mounted;\n}\n\nexport default useMounted;\n"],"names":["useBoolean","initialValue","useState","value","setValue","toggle","forceValue","copyPolyfill","text","textArea","document","createElement","style","position","top","left","body","appendChild","focus","select","execCommand","err","console","log","removeChild","copy","addEventListener","onCopy","e","clipboardData","setData","preventDefault","removeEventListener","isCopied","useCopyClipboard","setCopied","didCopy","useDebounce","func","delay","timerRef","useRef","debounced","args","current","window","clearTimeout","setTimeout","useThrottle","lastTimeRef","Date","now","throttled","throttle","wait","last","timer","inViewportPolyfill","element","callback","options","root","documentElement","viewWidth","clientWidth","viewHeight","clientHeight","update","getBoundingClientRect","width","height","bottom","right","useInViewport","inViewport","setInViewport","ref","rootMargin","threshold","useEffect","unobserve","IntersectionObserver","observer","entry","isIntersecting","observe","useMounted","mounted","setMounted"],"mappings":"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"}